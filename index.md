---
title: The Database 4 Everything
layout: default
---
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
<script src="/assets/js/sharesfound/by-miner-sharesfound-30days.js"></script>

# Mining Monero XMR

<div id="wrapper">
  <div id="areaChart">
  </div>
  <div id="barChart">
  </div>
 </div>

This is the home of **db4e**, the **Database 4 Everything**  project. The **db4e** application aims to provide a simple *Terminal User Interface* (TUI) to setup and operate a Monero XMR Mining farm on one or multiple computers. This project is still under development.

---

# Features Today

* Monitors the health of your farm with a [console based dashboard](/pages/db4e-gui.py.html)
* Manages a (free) GitHub Pages website (e.g. [my mining farm](https://xmr.osoyalce.com)) where *db4e* publishes reports
* Includes a mini Python install containing required 3rd party software (e.g. PyMongo)
* A [MongoDB Backend](#mongodb-backend) for historical data, logging and configuration settings

The [https://xmr.osoyalce.com/](https://xmr.osoyalce.com/) site is generated by the *db4e* application. It houses live data from a small Monero XMR Mining farm.

---

# Web Reports

Reporting with *db4e* is easy. A reports definition file tells *db4e* what kinds of reports to prepare.

* Reports are automatically published to the GitHub website
* Reports are defined in a simple YAML file (e.g. [sharesfound.yml](/conf/reports/sharesfound.yml))
* Reports can be scheduled (e.g. [pool hashrate](https://xmr.osoyalce.com/reports/hashrates/Pool-Hashrate-60-Days.html))
* Some reports in *db4e* are event driven (e.g. [recent payments](https://xmr.osoyalce.com/reports/payments/Daily-Payment-60-Days.html) reports)
* Reports can be run manually

The [Reports](https://xmr.osoyalce.com/pages/Reports.html) page has links to currently configured reports from my small farm.

---

# MongoDB Backend

The *db4e* stands out from other Monero XMR software in that it includes a **MongoDB Database** to house historical data, logs, configuration settings and more. The *db4e* application is setup as a system service. When running it monitors the local P2Pool software and creates records in MongoDB. MongoDB houses the data used to generate the [reports](https://xmr.osoyalce.com/pages/Reports.html) and as a data source for the [db4e console application](/pages/ops/db4e-gui.py.html).

---

# Technology Stack

The *db4e* application is currently running on [Debian Linux](https://www.debian.org/) and is made up of a number of components:

* The [core db4e code](https://github.com/NadimGhaznavi/db4e)
* A [P2Pool daemon](/pages/ops/Building-P2Pool-from-Source.html)
* A (free) website hosted by [GitHub Pages](https://github.com/)
* A [MongoDB server](/pages/ops/Installing-MongoDB.html)
* JavaScript with [ApexCharts](https://apexcharts.com/) to generate the website reports

At it's core, *db4e* monitors the P2Pool server for events. Scheduled commands are also sent to the running P2Pool daemon to trigger log output. Events are stored in MongoDB. Some events also trigger the creation of a CSV file which is published to a GitHub hosted website (this site). Javascript code is used to render the CSV data into nice, human-friendly graphs and bar charts.

---

# Systems Architecture

The application is designed to be modular and have a clear data abstraction layer. Mining database operations go though a *mining database class* which sends those to a *db4e mining class* which interacts with MongoDB.

For example, mining data exports to CSV are performed by connecting to the *MiningDb* class which connects to the *Db4eDb* class which connects to MongoDb and fetches the data.

---

# Codebase Architecture

See the [Codebase Architecture](/pages/ops/Codebase-Architecture.html) page for more information.

---

# Utilities

Utilities include the core [db4e.py](/pages/db4e.py.html) too such as the [db4e-gui.py](/pages/db4e-gui.py.html) console application.

See the [Utilities](/pages/Utilities.html) for a comprehensive list.

---

# Systems Configuration

* [Setup db4e as a Service](/pages/ops/Setup-db4e-Service.html)
* [Setup the Monero Daemon as a Service](/pages/ops/Setup-MoneroD-Service.html)
* [Setup the P2Pool Daemon as a Service](/pages/ops/Setup-P2PoolD-Service.html)
* [Secondary Monero Daemon Configuration](/pages/ops/Secondary-Monero-Daemon-Configuration.html)
* [Port Forwarding with upnpc](/pages/ops/upnpc.html)

---

# 3rd Party Software 

* [Building P2Pool from Source](/pages/ops/Building-P2Pool-from-Source.html)
* [Building Monerod from Source](/pages/ops/Building-Monerod-from-Source.html)
* [Installing MongoDB on Debian Linux](/pages/ops/Installing-MongoDB.html)

---

# Hardware

* [Miner CPU and Memory Specs](/pages/ops/Miner-Specs.html)

---

# Coming Soon

The `db4e-os` *terminal user interface* (TUI) is coming. It's used to manage the deployment of the *db4e* components and monitor their health.

* The core db4e software
* The GitHub Pages repo
* The Monero blockchain daemon(s)
* The P2Pool daemon(s)
* The XMRig miner(s)

This code is **alpha** it's under active development and doesn't fully work. Here's a screenshot to whet your appetite:

![db4e-os screenshot](/images/db4e-os-alpha.png)

---

# Getting Started

**NOTE:** The db4e project is in **beta** phase. See the [Getting Started](/pages/Getting-Started.html) page for information on getting started.

---

# Community Feedback

*Questions? Ideas? Feedback?* Please go to the *db4e* project's [Discussions](https://github.com/NadimGhaznavi/db4e/discussions) page.

---

# Donations

Please help keep this project alive and moving forward by [donating](/pages/Donations.html).

---

# Links

* [db4e on GitHub](https://github.com/NadimGhaznavi/db4e)
* [Debian Linux](https://www.debian.org/)
* [P2Pool on GitHub](https://github.com/SChernykh/p2pool)
* [Monero on GitHub](https://github.com/monero-project/monero-gui)
* [MongoDB](https://www.mongodb.com/)
* [ApexCharts](https://apexcharts.com/)
* [GitHub](https://github.com/)









